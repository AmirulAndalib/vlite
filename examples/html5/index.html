<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>vLitejs</title>
	<link rel="stylesheet" href="../../dist/vlite.css" />
	<link rel="stylesheet" href="../../dist/plugins/subtitle.css" />
</head>
<body>
	<!-- <video id="player-html5" class="vlite-js" src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"></video> -->
	<video id="player-html5" class="vlite-js" src="https://cdn.plyr.io/static/demo/View_From_A_Blue_Moon_Trailer-1080p.mp4">
        <track label="French" kind="subtitles" srclang="fr" src="./View_From_A_Blue_Moon_Trailer-HD.fr.vtt" default>
        <track label="English" kind="subtitles" srclang="en" src="./View_From_A_Blue_Moon_Trailer-HD.en.vtt">
    </video>
    <button id="destroy">Destroy</button>
	<script src="../../dist/vlite.js"></script>
    <script src="../../dist/plugins/subtitle.js"></script>
    <script src="../../dist/plugins/pip.js"></script>
	<script>
        vlitejs.registerPlugin('subtitle', vlitejsSubtitle)
        vlitejs.registerPlugin('pip', vlitejsPip)
		const myVlite = new vlitejs({
			selector: '#player-html5',
			options: {
				autoplay: false,
				controls: true,
				playPause: true,
				progressBar: true,
				time: true,
				volume: true,
				fullscreen: true,
				poster: '../assets/poster.jpg',
				bigPlay: true,
				autoHide: true,
				playsinline: true
			},
            plugins: ['subtitle', 'pip'],
			onReady: (player) => {
				//Ready
                console.log(player)
                player.container.addEventListener('play', () => console.log('play'))
                player.container.addEventListener('pause', () => console.log('pause'))
                player.container.addEventListener('ended', () => console.log('ended'))
                player.container.addEventListener('progress', () => console.log('progress'))
                player.container.addEventListener('volumechange', () => console.log('volumechange'))
                player.container.addEventListener('timeupdate', () => console.log('timeupdate'))
                player.container.addEventListener('enterfullscreen', () => console.log('enterfullscreen'))
                player.container.addEventListener('exitfullscreen', () => console.log('exitfullscreen'))
                player.container.addEventListener('enterpip', () => console.log('enterpip'))
                player.container.addEventListener('leavepip', () => console.log('leavepip'))
                player.container.addEventListener('trackenabled', () => console.log('trackenabled'))
                player.container.addEventListener('trackdisabled', () => console.log('trackdisabled'))
			}
		});

        document.querySelector('#destroy').addEventListener('click', e => {
            e.preventDefault()
            console.log(myVlite)
            myVlite.destroy()
        })
	</script>
</body>
</html>
