!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vlitejsPip=t():e.vlitejsPip=t()}(globalThis,(function(){return(()=>{"use strict";var e={391:(e,t,i)=>{var n,r,o=function(e){return e&&e.__esModule?e:{default:e}};n=[i,t,i(861)],void 0===(r=function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),i=o(i);t.default=class{constructor({player:e}){this.providers=["html5"],this.types=["video"],this.player=e,this.video=this.player.element,this.onClickOnPipButton=this.onClickOnPipButton.bind(this),this.onEnterPip=this.onEnterPip.bind(this),this.onLeavePip=this.onLeavePip.bind(this)}init(){this.isPipApiAvailable()&&this.player.options.controls&&(this.render(),this.pipButton=this.player.container.querySelector(".v-pipButton"),this.addEvents())}isPipApiAvailable(){return"pictureInPictureEnabled"in document&&!this.video.hasAttribute("disablePictureInPicture")}render(){this.player.container.insertAdjacentHTML("beforeend",'<div class="v-captions"></div>');const e=this.player.container.querySelector(".v-fullscreenButton"),t=`<button class="v-pipButton v-controlButton">${i.default}</button>`;if(e)e.insertAdjacentHTML("beforebegin",t);else{const e=this.player.container.querySelector(".v-controlBar");e&&e.insertAdjacentHTML("beforeend",t)}}addEvents(){this.pipButton.addEventListener("click",this.onClickOnPipButton),this.video.addEventListener("enterpictureinpicture",this.onEnterPip),this.video.addEventListener("leavepictureinpicture",this.onLeavePip)}async onClickOnPipButton(e){e.preventDefault();try{this.video!==document.pictureInPictureElement?await this.video.requestPictureInPicture():await document.exitPictureInPicture()}catch(e){console.warn(`vlitejs :: ${e}`)}}onEnterPip(e){this.player.container.dispatchEvent(new CustomEvent("enterpip"))}onLeavePip(e){this.player.container.dispatchEvent(new CustomEvent("leavepip"))}}}.apply(t,n))||(e.exports=r)},861:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 11h-8v6h8v-6zm-2 4h-4v-2h4v2zm4-12H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V4.98C23 3.88 22.1 3 21 3zm0 16.02H3V4.97h18v14.05z"/></svg>'}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}var n={};return(()=>{var e,t=n;t.default=void 0;var r=((e=i(391))&&e.__esModule?e:{default:e}).default;t.default=r})(),n=n.default})()}));